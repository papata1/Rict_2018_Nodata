<?php $__env->startSection('page_heading'); ?>
<?php $__env->startSection('content'); ?>
<!--Modal add -->
<div class="modal fade" id="Add" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
     xmlns="http://www.w3.org/1999/html">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Show</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-8">
                        <div class="form-group">

                            <label for="lname">ชื่ออุปกรณ์</label>
                            <input type="text" class="form-control txt1" name="lname1" id="t1" disabled>
                            <label for="name">ประเภท</label>
                            <input type="text" class="form-control txt1" name="name1" id="t40" disabled>
                            <label for="divi">สเปค</label>
                            <input type="text" class="form-control txt1" name="divi1" id="t2" disabled>
                            <label for="email">รุ่น</label>
                            <input type="text" class="form-control txt1" name="email1" id="t3" disabled>
                            <label for="email">ยี่ห้อ</label>
                            <input type="text" class="form-control txt1" name="email1" id="t4" disabled>
                            <label for="addre">จำนวน</label>
                            <input type="text" class="form-control txt1" name="addre1" id="t7" disabled>
                            <label for="addre">ระบบปฏิบัติการ</label>
                            <input type="text" class="form-control txt1" name="addre1" id="t8" disabled>
                            <label for="addre">CPU USE</label>
                            <input type="text" class="form-control txt1" name="addre1" id="t9" disabled>
                            <label for="addre">Memory Total</label>
                                 <div class="row">
                            <div class="col-sm-6" ><input type="text" class="form-control txt1" name="addre1" id="t10" disabled></div>
                            <div class="col-sm-2" ><label for="addre1">GB</label></div></div>
                            <label for="addre">Memory Used</label>
                            <div class="row">
                             <div class="col-sm-6" ><input type="text" class="form-control txt1" name="addre1" id="t11" disabled></div>
                            <div class="col-sm-2" ><label for="addre1">GB</label></div></div>
                            <label for="addre">Hardisk Total</label>
                            <div class="row">
                             <div class="col-sm-6" ><input type="text" class="form-control txt1" name="addre1" id="t12" disabled></div>
                            <div class="col-sm-2" ><label for="addre1">GB</label></div></div>
                            <label for="addre">Hardisk Used</label>
                            <div class="row">
                             <div class="col-sm-6" ><input type="text" class="form-control txt1" name="addre1" id="t13" disabled></div>
                            <div class="col-sm-2" ><label for="addre1">GB</label></div></div>
                            <label for="email">สถานที่ตั้ง</label>
                            <input type="text" class="form-control txt1" name="email1" id="t15" disabled>
                            <label for="addre">ค่าซ่อมบำรุง</label>
                          <div class="row">
                          <div class="col-sm-5" > <input type="text" class="form-control txt1" name="addre1" id="t16" size="10" disabled>  </div>
                           <div class="col-sm-3" ><label for="addre1">บาท/ต่อปี</label></div></div>
                            <label for="addre">รายละเอียด</label>
                            <textarea type="text" class="form-control txt1" name="addre" id="t17" disabled disabled style="height: 90px;"></textarea>
                            <label for="">ความสัมพันธ์หับระบบสารสนเทศ</label>
                            <textarea type="text" class="form-control txt1" name="email1" id="rela" disabled disabled style="height: 90px;"></textarea>
                        
                </div>
            </div>

        </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">ปิด</button>

                </div>
    </div>
</div>
    </div>
</div>
<!--Modal add -->
<div class="modal fade" id="AddTech" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
     xmlns="http://www.w3.org/1999/html">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Show</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-8">
                        <div class="form-group">

                            <label for="lname">ชื่ออุปกรณ์</label>
                            <input type="text" class="form-control txt1" name="lname1" id="t111" disabled>
                            <label for="name">ประเภท</label>
                            <input type="text" class="form-control txt1" name="name1" id="t140" disabled>
                            <label for="divi">สเปค</label>
                            <input type="text" class="form-control txt1" name="divi1" id="t112" disabled>
                            <label for="email">รุ่น</label>
                            <input type="text" class="form-control txt1" name="email1" id="t113" disabled>
                            <label for="email">ยี่ห้อ</label>
                            <input type="text" class="form-control txt1" name="email1" id="t114" disabled>
                            <label for="addre">จำนวน</label>
                            <input type="text" class="form-control txt1" name="addre1" id="t117" disabled>
                            <label for="email">สถานที่ตั้ง</label>
                            <input type="text" class="form-control txt1" name="email1" id="t115" disabled>
                            <label for="addre">ค่าซ่อมบำรุง</label>
                            <div class="row">
                                <div class="col-sm-2" > <input type="text" class="form-control txt1" name="addre1" id="t116" size="10" disabled>  </div>
                                <div class="col-sm-3" ><label for="addre">บาท/ต่อปี </label></div></div>
                            <label for="addre">รายละเอียด</label>
                            <textarea type="text" class="form-control txt1" name="addre" id="t1117" disabled disabled style="height: 90px;"></textarea>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">ปิด</button>

                </div>
            </div>
        </div>
    </div>
</div>
<?php
$i = 0 ;
$a2 = array();
$a3 = array();
foreach($a as $a1) {
    $a2[$i] = $a1->name;
    $a3[$i] = $a1->technology_layer_id;
    $i++;
}?>
<?php
$i = 0 ;
$p2 = array();
$p3 = array();
foreach($p as $p1) {
    $p2[$i] = $p1->name;
    $p3[$i] = $p1->technology_layer_id;
    $i++;
}?>
<?php
$i = 0 ;
$br2 = array();
$br3 = array();
foreach($br as $br1) {
    $br2[$i] = $br1->name;
    $br3[$i] = $br1->technology_layer_id;
    $i++;
}?>
<?php
$i = 0 ;
$t2 = array();
$t3 = array();
foreach($t as $t1) {
    $t2[$i] = $t1->name;
    $t3[$i] = $t1->technology_layer_id;
    $i++;
}?>
<class="container">
  			<div class="form-group"><h1 style="font-size:38px;">ระดับเทคโนโลยี</h1></div>





    <?php if(Session::has('message')): ?>
<div class="alert alert-success"><?php echo e(Session::get('message')); ?></div>
<?php endif; ?><br>

                  <p></p>
<div class="bs-example" data-example-id="bordered-table">
    <div class="row">
        <div class="col-lg-12">
<div class="panel panel-default" >
    <div class="panel-heading">
        <div class="col-lg-2">ตารางระบบสารสนเทศ</div><div class="col-lg-7"></div><a href="<?php echo e(action('TechController@test' ,[$t ='1'] )); ?>" class="btn btn-primary">เพิ่มเครื่องแม่ข่าย</a>
                     <a href="<?php echo e(action('TechController@test' ,[$t ='2'] )); ?>" class="btn btn-primary">เพิ่มอุปกรณ์</a>
    </div>
    <!-- /.panel-heading -->
    <div class="panel-body" style="margin-right:20px;">
        <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
          <thead>
                  <tr>
                    <th>ชื่ออุปกรณ์</th>
                      <th>ประเภทเทคโนโลยี</th>
                    <th>สเปค</th>
                    <th>รุ่น</th>
                    <th>ยี่ห้อ</th>
                    <th>จัดการ</th>
                  </tr>
              </thead>
              <tbody>
                <?php $__currentLoopData = $techs; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $tech): $__env->incrementLoopIndices(); $loop = $__env->getFirstLoop(); ?>
          <tr>
            <td><?php echo e($tech->name); ?>  </td>
              <?php if($tech->type == 1): ?>
                  <td>เครื่องแม่ข่าย</td>
              <?php else: ?>
                  <td>อุปกรณ์</td>
              <?php endif; ?>
            <td><?php echo e($tech->tech_spec); ?>  </td>
            <td><?php echo e($tech->model); ?>  </td>
              <td><?php echo e($tech->brand); ?>

              </td>
             <td class="col-lg-2">
                  <?php echo Form::open(array('route'=>['tech.destroy',$tech->id],'method'=>'DELETE')); ?>

                 <?php if($tech->type == 1): ?>
                  <button type="button" class="btn btn-default add"  data-toggle="modal" data-target="#Add" data-id="<?php echo e($tech->id); ?>" data-id1="<?php echo e($tech->name); ?>"   data-id2="<?php echo e($tech->tech_spec); ?>"
                          data-id3="<?php echo e($tech->model); ?>"   data-id4="<?php echo e($tech->brand); ?>"   data-id7="<?php echo e($tech->amount); ?>"  data-id8="<?php echo e($tech->operating_system); ?>" data-id9="<?php echo e($tech->cpu_use); ?>" 
                          data-id10="<?php echo e($tech->memory_total); ?>"   data-id8="<?php echo e($tech->cpu_use); ?>"  
                          data-id11="<?php echo e($tech->memory_used); ?>" data-id12="<?php echo e($tech->hardisk_total); ?>" data-id15="<?php echo e($tech->tech_location); ?>"	data-id14="<?php echo e($tech->utility_app); ?>"  data-id13="<?php echo e($tech->hardisk_used); ?>"
                          data-id16="<?php echo e($tech->	ma_cost); ?>" data-id17="<?php echo e($tech->remark); ?>" data-id40="<?php echo e($tech->type); ?>"
                  ><i class="fa fa fa-eye po4" aria-hidden="true"></i></button>
                 <?php else: ?>
                 <button type="button" class="btn btn-default add"  data-toggle="modal" data-target="#AddTech" data-id="<?php echo e($tech->id); ?>" data-id1="<?php echo e($tech->name); ?>"   data-id2="<?php echo e($tech->tech_spec); ?>"
                         data-id3="<?php echo e($tech->model); ?>"   data-id4="<?php echo e($tech->brand); ?>"   data-id7="<?php echo e($tech->amount); ?>"  data-id8="<?php echo e($tech->operating_system); ?>" data-id9="<?php echo e($tech->cpu_use); ?>"
                         data-id10="<?php echo e($tech->memory_total); ?>"   data-id8="<?php echo e($tech->cpu_use); ?>"
                         data-id11="<?php echo e($tech->memory_used); ?>" data-id12="<?php echo e($tech->hardisk_total); ?>" data-id15="<?php echo e($tech->tech_location); ?>"	data-id14="<?php echo e($tech->utility_app); ?>"  data-id13="<?php echo e($tech->hardisk_used); ?>"
                         data-id16="<?php echo e($tech->	ma_cost); ?>" data-id17="<?php echo e($tech->remark); ?>" data-id40="<?php echo e($tech->type); ?>"
                 ><i class="fa fa fa-eye po4" aria-hidden="true"></i></button>
                 <?php endif; ?>
                  <a href="<?php echo e(action('TechController@edit' ,[$tech->id] )); ?>" class="btn btn-default po5" ><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                      <i class="btn btn-default po6" aria-hidden="true"><?php echo Form::button('',['class'=>'fa fa-trash del','type'=>'submit']); ?></i>
                  <?php echo Form::close(); ?>

                </td>
          </tr>
        <?php endforeach; $__env->popLoop(); $loop = $__env->getFirstLoop(); ?>
              </tbody>
        </table>
        </div>
    </div>
    </div>
    <!-- /.panel-body -->
</div>
<!-- /.panel -->
</div>
</div>
<script src="<?php echo e(asset('/assets/bower_components/jquery/dist/jquery.min.js')); ?>"></script>
<script>
    $(document).ready(function() {


        // $('#filer_input').filer();

        // alert('655');

        //$('tr').each(function(){
        $('.add').on('click',function(){
            //$('#add').click(function () {
            //alert('add new branch');
            //$('#Add').modal('show');

            $('#rela').val('');
            $('#rela1').val('');
            $('#rela2').val('');
            $('#rela3').val('');
            $('#rela0').val('');
            $('#rela11').val('');
            $('#rela12').val('');
            $('#rela13').val('');
            var id = $(this).attr('data-id');
            var a = <?php echo json_encode($a2); ?>;
            var aid = <?php echo json_encode($a3); ?>;
            var count = [];
            var count1 = [];
            var count2 = [];
            var count3 = [];

            // alert(id);
            var length = aid.length;
            for (var i = 0; i < aid.length; i++) {
                if (aid[i] == id) {
                    count.push(a[i]);
                    //alert(count[i]);
                    $('#rela').val(count);
                    $('#rela0').val(count);
                    // document.getElementById("rela").innerHTML = fruits.toString();
                }
            }
            var br = <?php echo json_encode($br2); ?>;
            var brid = <?php echo json_encode($br3); ?>;
            for (var i = 0; i < brid.length; i++) {
                if (brid[i] == id) {
                    count1.push(br[i]);
                    //alert(a[i]);
                    $('#rela1').val(count1);
                    $('#rela11').val(count1);
                }
            }
            var p = <?php echo json_encode($p2); ?>;
            var pid = <?php echo json_encode($p3); ?>;
            for (var i = 0; i < pid.length; i++) {
                if (pid[i] == id) {
                    count2.push(p[i]);
                    // alert(d[i]);
                    $('#rela2').val(count2);
                    $('#rela12').val(count2);
                }
            }
            var t = <?php echo json_encode($t2); ?>;
            var tid = <?php echo json_encode($t3); ?>;
            for (var i = 0; i < tid.length; i++) {
                if (tid[i] == id) {
                    count3.push(t[i]);
                    //  alert(t[i]);
                    $('#rela3').val(count3);
                }
            }

        });
        //    });


    });

</script>
<?php $__env->stopSection(); ?>

<?php echo $__env->make('admin.layouts.template', array_except(get_defined_vars(), array('__data', '__path')))->render(); ?>